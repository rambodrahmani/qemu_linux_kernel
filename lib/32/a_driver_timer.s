#*******************************************************************************
# File: a_driver_timer.s
#       Interrupt primitive 40.
#
# Author: Rambod Rahmani <rambodrahmani@autistici.org>
#         Created on 07/07/2019.
#*******************************************************************************

#-------------------------------------------------------------------------------
.TEXT
#-------------------------------------------------------------------------------
.EXTERN c_driver_timer
#-------------------------------------------------------------------------------
.GLOBAL a_driver_timer
#-------------------------------------------------------------------------------
a_driver_timer:
    pushal                      # push all registers

    call   c_driver_timer       # call driver
    movl   $0, 0xFEE000B0       # write End Of Interrupt

    popal                       # pop all registers

    iret                        # return from interrupt
#*******************************************************************************

