#*******************************************************************************
# File: hdd_wdma.s
#       Hard Disk Drive Write using Direct Memory Access.
#
# Author: Rambod Rahmani <rambodrahmani@autistici.org>
#         Created on 28/08/2019.
#*******************************************************************************

#-------------------------------------------------------------------------------
.DATA
.ALIGN   65536
#-------------------------------------------------------------------------------
.GLOBAL  buf_wdma                  # memory buffer to store data used by go_wdma
#-------------------------------------------------------------------------------
buf_wdma:
    .space  128*512

#-------------------------------------------------------------------------------
.TEXT
.GLOBAL  go_wdma
#-------------------------------------------------------------------------------
go_wdma:
    int  $251                      # invoke interrupt 251
    ret
#*******************************************************************************

